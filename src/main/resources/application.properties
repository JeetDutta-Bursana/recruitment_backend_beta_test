# === App Info ===
spring.application.name=recruitment
spring.profiles.active=${ACTIVE_PROFILE:dev}

# === Database ===
spring.datasource.url=jdbc:${DB_USE:postgresql}://${DB_HOST:localhost}:${DB_PORT:5050}/${DB_NAME:recruitmentdb}
spring.session.store-type=jdbc
spring.session.jdbc.initialize-schema=always
spring.datasource.username=${DB_USER:postgre}
spring.datasource.password=${DB_PASSWORD:1@34}
spring.jpa.database-platform=org.hibernate.dialect.${DB_DIALECT:PostgreSQLDialect}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=${SHOW_SQL:true}

# === PostgreSQL Transaction Configuration ===
spring.jpa.properties.hibernate.connection.autocommit=false
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.datasource.hikari.auto-commit=false
spring.transaction.default-timeout=30


# === Spring Session JDBC Configuration ===
spring.session.store-type=jdbc
spring.session.jdbc.initialize-schema=always

# === Session & Cookie Configuration ===
server.servlet.session.timeout=1800s
server.servlet.session.cookie.name=JSESSIONID
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.same-site=None

# === JSON & Multipart ===
spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=15MB

# === Static Upload Path ===
spring.web.resources.static-locations=file:uploads/

# === Mail Configuration ===
spring.mail.host=${MAIL_HOST}
spring.mail.port=${MAIL_PORT}
spring.mail.username=${MAIL_USER}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# === Together.AI Configuration ===
together.api.key=${TOGETHER_API_KEY}                       # Set this in environment
spring.ai.openai.api-key=${OPEN_API_KEY}                  # Optional (if using Spring AI abstraction)
spring.ai.openai.base-url=${TOGETHER_API_URL}             # Should be: https://api.together.xyz/v1/chat/completions
